!function(a,b){"use strict";wp.customize.controlConstructor["vamtam-typography"]=wp.customize.Control.extend({ready:function(){var c,d=this,e=d.selector+" .font-family select",f=d.selector+" .variant select",g={};_.each(d.params.default,function(a,c){!1!==a&&(g[c]=a,b!==d.setting._value[c]&&(g[c]=d.setting._value[c]))}),_.each(d.setting._value,function(a,c){b!==g[c]&&void 0!==g[c]||(g[c]=a)});var h=function(b,c){var d=a(f),e=c||d.val();d.empty(),_.each(VAMTAM_ALL_FONTS,function(c){if(b===c.family)for(var e in c.weights){var f=a("<option>");f.text(c.weights[e]),d.append(f)}}),d.val(e||"normal")};a(e).val(d.setting._value["font-family"]),h(g["font-family"],g.variant),this.container.on("change",".font-family select",function(){g["font-family"]=jQuery(this).val(),d.saveValue(g),h(jQuery(this).val(),null)}),this.container.on("change",".variant select",function(){g.variant=jQuery(this).val(),d.saveValue(g)}),this.container.on("change keyup paste",".font-size input",function(){g["font-size"]=jQuery(this).val()+d.params.unit,d.saveValue(g)}),this.container.on("change keyup paste",".line-height input",function(){g["line-height"]=jQuery(this).val()+d.params.unit,d.saveValue(g)}),c=this.container.find(".kirki-color-control"),c.wpColorPicker({change:function(){setTimeout(function(){g.color=c.val(),d.saveValue(g)},100)}})},saveValue:function(a){var b=this,c={};_.each(a,function(a,b){c[b]=a}),b.setting.set(c)}})}(jQuery);